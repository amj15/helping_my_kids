<!doctype html>
<html lang="en" class="h-100" data-bs-theme="auto">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Hugo 0.122.0">
    <title>Aprende las tablas</title>


    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Honk&display=swap" rel="stylesheet">

    <style>
        .bd-placeholder-img {
            font-size: 1.125rem;
            text-anchor: middle;
            -webkit-user-select: none;
            -moz-user-select: none;
            user-select: none;
        }

        @media (min-width: 768px) {
            .bd-placeholder-img-lg {
                font-size: 3.5rem;
            }
        }

        .b-example-divider {
            width: 100%;
            height: 3rem;
            background-color: rgba(0, 0, 0, .1);
            border: solid rgba(0, 0, 0, .15);
            border-width: 1px 0;
            box-shadow: inset 0 .5em 1.5em rgba(0, 0, 0, .1), inset 0 .125em .5em rgba(0, 0, 0, .15);
        }

        .b-example-vr {
            flex-shrink: 0;
            width: 1.5rem;
            height: 100vh;
        }

        .bi {
            vertical-align: -.125em;
            fill: currentColor;
        }

        .nav-scroller {
            position: relative;
            z-index: 2;
            height: 2.75rem;
            overflow-y: hidden;
        }

        .nav-scroller .nav {
            display: flex;
            flex-wrap: nowrap;
            padding-bottom: 1rem;
            margin-top: -1px;
            overflow-x: auto;
            text-align: center;
            white-space: nowrap;
            -webkit-overflow-scrolling: touch;
        }

        .btn-bd-primary {
            --bd-violet-bg: #712cf9;
            --bd-violet-rgb: 112.520718, 44.062154, 249.437846;

            --bs-btn-font-weight: 600;
            --bs-btn-color: var(--bs-white);
            --bs-btn-bg: var(--bd-violet-bg);
            --bs-btn-border-color: var(--bd-violet-bg);
            --bs-btn-hover-color: var(--bs-white);
            --bs-btn-hover-bg: #6528e0;
            --bs-btn-hover-border-color: #6528e0;
            --bs-btn-focus-shadow-rgb: var(--bd-violet-rgb);
            --bs-btn-active-color: var(--bs-btn-hover-color);
            --bs-btn-active-bg: #5a23c8;
            --bs-btn-active-border-color: #5a23c8;
        }

        .bd-mode-toggle {
            z-index: 1500;
        }

        .bd-mode-toggle .dropdown-menu .active .bi {
            display: block !important;
        }

        .honk-text {
            font-family: "Honk", system-ui;
            font-optical-sizing: auto;
            font-weight: 400;
            font-style: normal;
            font-variation-settings: "MORF" 15,
            "SHLN" 50;
        }
        .fs-custom{
            font-size: 100px;
        }

        #img{
            width: 150px;
            height: 173px;
        }

        .table-container{
            border: 3px solid #20cddf;
            padding: 10px;
            margin: 10px;
            border-radius: 10px;
        }

    </style>

</head>
<body class="d-flex h-100 text-center text-bg-dark">



<div class="cover-container d-flex w-100 h-100 p-3 mx-auto flex-column">
    <header class="mb-auto">
        <div>
            <h1 class="float-md-start mb-0 honk-text">Multiplicaciones</h1>
        </div>
    </header>

    <main class="px-3">
        <div class="row">
            <div class="col-12" style="margin-bottom: 20px;">
                <span class="honk-text fs-custom" id="a">5</span>
                <span class="honk-text fs-custom">x</span>
                <span class="honk-text fs-custom" id="b">5</span>
                <span class="honk-text fs-custom">=</span>
                <input class="honk-text fs-custom" style="width: 200px; text-align: center" id="c" />
            </div>

        </div>
            <button id="calculate" class="btn btn-success fw-bold honk-text fs-1">COMPROBAR</button>
        </p>

        <button class="btn btn-primary honk-text" style="font-size: 30px" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasExample" aria-controls="offcanvasExample">
            ¿Cómo lo llevo?
        </button>

        <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasExample" aria-labelledby="offcanvasExampleLabel">
            <div class="offcanvas-header">
                <h5 class="offcanvas-title" id="offcanvasExampleLabel">¿Cómo lo llevo?<span id="note" style="padding-left: 10px" class="badge badge-lg bg-secondary"></span></h5>
                <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
            </div>
            <div class="offcanvas-body">
                <div id="global-results">
                    Some text as placeholder. In real life you can have the elements you have chosen. Like, text, images, lists, etc.
                </div>
            </div>
        </div>

        <!-- Modal -->
        <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <h1 class="modal-title fs-5" id="exampleModalLabel">Modal title</h1>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body" id="result-box">
                        <img id="img" src="https://dl3.pushbulletusercontent.com/VKIB8E9dMgYiLuyNQBcgkO0sLGl3MSom/IMG20240222150658.jpg" alt="">
                        <h2 id="result-text" class="honk-text" style="font-size: 50px"></h2>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="mt-auto text-white-50">
        <p></p>
    </footer>
</div>
<script src="https://code.jquery.com/jquery-3.7.1.min.js"
        integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"></script>
<script>

    const myModal = new bootstrap.Modal('#exampleModal', {
        keyboard: false
    })

    let globals = [];

    for(i = 0; i <= 12; i++){
        let temp = [];
        for(j = 0; j <= 12; j++){
            temp.push({'result' : 0});
        }
        globals.push(temp);
    }

    console.log(globals);

    $('#a').text(randomIntFromInterval(0,12));
    $('#b').text(randomIntFromInterval(0,12));

    $('#calculate').click(() => {
        let a = $('#a').text();
        let b = $('#b').text();
        let c = $('#c').val();

        $('#a').text(randomIntFromInterval(0,12));
        $('#b').text(randomIntFromInterval(0,12));

        $randIMg = randomIntFromInterval(0,1);
        if (a * b == c) {
            if($randIMg){
                $('#img').attr('src', '/assets/v-happy.png');
            }else{
                $('#img').attr('src', '/assets/p-happy.pnh');
            }

            globals[a][b].result = 1;
            globals[b][a].result = 1;

            $('#result-text').text('Máquina');
        } else {
            if($randIMg){
                $('#img').attr('src', 'https://dl3.pushbulletusercontent.com/exPbRhklc1TwlNtGT74q5sqslind8BMQ/IMG20240222150703.jpg');
            }else{
                $('#img').attr('src', 'https://dl3.pushbulletusercontent.com/qqsIrIl6GHCQTfBdfxAb9yL3ePOoUmFs/IMG20240222150655.jpg');
            }

            globals[a][b].result = 2;
            globals[b][a].result = 2;

            $('#result-text').text(`Noooo melón, ${a} x ${b} no es ${c} es ${a * b}`);
        }
        $('#c').val('');
        console.log(globals);
        printGlobals();
        myModal.show();
    });

    function printGlobals(){
        let html = '';
        let ok = 0;
        let ko = 0;
        for(i = 0; i <= 12; i++){
            html += '<div class="row table-container">';
            let iknow = 'No te he preguntado';
            let badgeClass = 'bg-warning';
            for(j = 0; j <= 12; j++){
                iknow = 'No te he preguntado';
                badgeClass = 'bg-warning';
                if(globals[i][j].result == 1){
                    iknow = 'Sip';
                    badgeClass = 'bg-success';
                    ok++;
                }

                if(globals[i][j].result == 2){
                    iknow = 'Nope';
                    badgeClass = 'bg-danger';
                    ko++;
                }

                html += `<div class="col-12">${i} x ${j} = ${i*j}<span class="badge ${badgeClass}" style="margin-left: 10px">${iknow}</span></div>`;
            }
            html += '</div>';
        }
        $('#global-results').html(html);
        $('#note').text(parseFloat((ok/(ok+ko))*10).toFixed(2));

    }

    printGlobals();

    function randomIntFromInterval(min, max) { // min and max included
        return Math.floor(Math.random() * (max - min + 1) + min)
    }
</script>

</body>
</html>
